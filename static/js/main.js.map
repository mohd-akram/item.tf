{
  "version": 3,
  "sources": [
    "main.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "root = exports ? this\r\n\r\npriceSources = ['backpack.tf', 'trade.tf']\r\n\r\nclass User\r\n  constructor: ->\r\n    @id = getCookie 'steam_id'\r\n    @loggedIn = Boolean(@id)\r\n\r\n    Object.defineProperties @,\r\n      priceSource:\r\n        get: -> getCookie('price_source') or priceSources[0]\r\n        set: (source) -> setCookie 'price_source', source, 365\r\n\r\n  isOwnPage: -> @loggedIn and @id is\r\n    document.getElementById('steamid')?.getAttribute('data-id')\r\n\r\nclass Item\r\n  constructor: (@elem) ->\r\n    @name = @elem.title\r\n    @id = @elem.getAttribute 'data-index'\r\n    @url = @elem.getAttribute 'data-url'\r\n    @imageUrl = @elem.getAttribute 'data-image'\r\n    @description = @elem.getAttribute('data-description') or ''\r\n    @level = @elem.getAttribute 'data-level'\r\n    @attributes = @elem.getElementsByTagName('div')?[0]?.innerHTML or ''\r\n    @classes = @elem.getAttribute('data-classes')?.split(',') or []\r\n    @tags = @elem.getAttribute('data-tags')?.split(',') or []\r\n    @storePrice = @elem.getAttribute 'data-storeprice'\r\n    @blueprints = @elem.getElementsByTagName 'ul'\r\n\r\n    @prices = {}\r\n    for source in priceSources\r\n      price = JSON.parse(@elem.getAttribute(\"data-#{source}\")\r\n                             ?.replace('Collector\"s', \"Collector's\") ? null)\r\n      @prices[source] = price if price\r\n\r\n    @wishIndex = @elem.getAttribute 'data-i'\r\n    @qualityNo = @elem.className.match(/quality-(\\d+)/)?[1]\r\n\r\n  remove: -> @elem.parentNode.removeChild @elem\r\n\r\nclass ItemBox\r\n  constructor: (@showLink=true) ->\r\n    @elem = document.createElement 'div'\r\n    @elem.id = 'itembox'\r\n    document.body.appendChild @elem\r\n\r\n  show: (elem) ->\r\n    @item = new Item(elem)\r\n    @sources = (source for source in priceSources when source of @item.prices)\r\n    @source = user.priceSource\r\n\r\n    @_generate()\r\n    @elem.style.display = 'block'\r\n\r\n  hide: -> @elem.style.display = 'none'\r\n\r\n  _nextPriceSource: ->\r\n    @source = @sources[(@sources.indexOf(@source) + 1) % @sources.length]\r\n\r\n  _tagsHTML: ->\r\n    if @item.tags.length\r\n      html = '<div id=\"tags\">'\r\n      isWeapon = 'weapon' in @item.tags\r\n      isToken = 'token' in @item.tags\r\n\r\n      for i in ['primary', 'secondary', 'melee', 'pda2']\r\n        if i in @item.tags\r\n          if isWeapon\r\n            [title, image] = [\"#{capitalize i} Weapon\", i]\r\n\r\n          else if isToken\r\n            [title, image] = ['Slot Token', 'slot-token']\r\n\r\n      for i in ['hat', 'misc', 'tool', 'bundle']\r\n        if i in @item.tags\r\n          [title, image] = [capitalize(i), i]\r\n\r\n      if isToken and @item.classes.length\r\n        [title, image] = ['Class Token', 'class-token']\r\n\r\n      if title? and image?\r\n        html +=\r\n          \"\"\"\r\n          <a href=\"/search?q=#{encodeURIComponent title}\"\r\n           target=\"_blank\" title=\"#{title}\" class=\"#{image}\"></a>\r\n          \"\"\"\r\n\r\n      html += '</div>'\r\n    else ''\r\n\r\n  _nameHTML: ->\r\n    html = @item.name\r\n\r\n    if @showLink\r\n      html =\r\n        \"\"\"\r\n        <a href=\"#{@item.url}\"\r\n         class=\"glow\" title=\"Go to Item Page\">#{html}</a>\r\n        \"\"\"\r\n    html =\r\n      \"\"\"\r\n      <h2 id=\"itemname\">#{html}</h2>\r\n      <i id=\"shortlinkbutton\" class=\"fa fa-caret-square-o-down\"\r\n       title=\"Short URL\"></i><br>\r\n      <div id=\"shortlink\" style=\"display:none\">\r\n      <input type=\"text\" value=\"https://item.tf/#{@item.id}\" readonly><br>\r\n      </div>\r\n      \"\"\"\r\n\r\n  _classesHTML: ->\r\n    if @item.classes.length\r\n      html = '<div id=\"classes\">'\r\n      for class_ in @item.classes\r\n        html +=\r\n          \"\"\"\r\n          <a href=\"/search?q=#{class_}\" target=\"_blank\"\r\n           title=\"#{class_}\" class=\"#{class_.toLowerCase()}\"></a>\r\n          \"\"\"\r\n      html += '</div>'\r\n    else ''\r\n\r\n  _bundleHTML: ->\r\n    # Link to bundle items HTML\r\n    if 'bundle' in @item.tags and @item.description.indexOf('---') isnt -1\r\n      \"\"\"\r\n      <a href=\"/search?q=#{encodeURIComponent @item.name}%20Set\"\r\n       target=\"_blank\">\r\n      <div class=\"rounded glow\" style=\"display: inline-block; padding: 7px\">\r\n      View Items\r\n      </div>\r\n      </a>\r\n      \"\"\"\r\n    else ''\r\n\r\n  _priceSourceHTML: ->\r\n    html = ''\r\n\r\n    unless @item.prices[@source]\r\n      @_nextPriceSource()\r\n\r\n    if @item.prices[@source]\r\n      qualities = Object.keys(@item.prices[@source]).sort()\r\n      for quality in qualities\r\n        price = @item.prices[@source][quality]\r\n        denomMatch = price.match(/(Refined|Key(s)?|Bud(s)?)/)\r\n\r\n        if denomMatch\r\n          denom = denomMatch[0]\r\n\r\n          price = price.replace /(\\d+(\\.\\d+)?)/g,\r\n            \"<a href='/search?q=\\$1%20#{denom}'\r\n              target='_blank' class='glow'>\\$1</a>\"\r\n\r\n        html +=\r\n          \"\"\"\r\n          <a href=\"/search?q=#{quality}\" target=\"_blank\"\r\n           class=\"#{quality.toLowerCase().replace \"'\", ''}\">#{\r\n           quality}</a>: #{price}<br>\r\n          \"\"\"\r\n\r\n    return html\r\n\r\n  _pricesHTML: ->\r\n    html = @_priceSourceHTML()\r\n    if html then \"<div id='marketprice'><span id='pricesource'>#{\r\n      capitalize @source}</span><h3 id='prices'>#{html}</h3></div>\" else ''\r\n\r\n  _blueprintsHTML: ->\r\n    if @item.blueprints.length\r\n      html = '<div id=\"blueprints\">'\r\n      for blueprint in @item.blueprints\r\n        chance = blueprint.getAttribute 'data-chance'\r\n\r\n        html += '<div class=\"blueprint\">'\r\n        for item in blueprint.getElementsByTagName 'li'\r\n          for i in [0...item.getAttribute 'data-count']\r\n            name = item.title\r\n            index = item.getAttribute 'data-index'\r\n            style = \"background-image: url(#{item.getAttribute 'data-image'})\"\r\n\r\n            listItem = \"<div title=\\\"#{name}\\\" class='item-small' style='#{\r\n              style}'></div>\"\r\n\r\n            url = item.getAttribute 'data-url'\r\n\r\n            unless url\r\n              name = name\r\n                .replace 'Any ', ''\r\n                .replace 'Spy Watch', 'PDA2 Weapon'\r\n\r\n              if name.split(' ').length > 2\r\n                name = name.replace 'Weapon', 'Set'\r\n\r\n              url = \"/search?q=#{encodeURIComponent name}\"\r\n\r\n            html += \"<a href=\\\"#{url}\\\" target='_blank'>#{listItem}</a>\"\r\n\r\n        html +=\r\n          \"\"\"\r\n          <div title=\"Crafting Chance\" style=\"position: absolute; right: 10px\">\r\n          <h3>#{chance}%</h3></div></div>\r\n          \"\"\"\r\n\r\n      html += '</div>'\r\n    else ''\r\n\r\n  _tradeHTML: ->\r\n    \"\"\"\r\n    <form name=\"tradeform\" method=\"POST\" style=\"display: inline-block\">\r\n\r\n      <input type=\"hidden\" name=\"json\">\r\n      <input type=\"submit\" name=\"submit\" value=\"Search!\" style=\"display: none\">\r\n\r\n      <select id=\"tradetype\" class=\"textbox\">\r\n        <option value=\"has1\">Want</option>\r\n        <option value=\"wants1\">Have</option>\r\n      </select>\r\n\r\n      <select id=\"quality\" class=\"textbox\">\r\n        <option value=\"6\">Unique</option>\r\n        <option value=\"3\">Vintage</option>\r\n        <option value=\"11\">Strange</option>\r\n        <option value=\"1\">Genuine</option>\r\n        <option value=\"14\">Collector's</option>\r\n        <option value=\"13\">Haunted</option>\r\n        <option value=\"5\">Unusual</option>\r\n      </select>\r\n\r\n    </form>\r\n    \"\"\"\r\n\r\n  _wishlistHTML: ->\r\n    if user.loggedIn\r\n      \"\"\"\r\n      <div style=\"display: inline-block;\">\r\n      <div id=\"wishlistmessage\"\r\n       style=\"display: none; margin: 0 0 4px -18px\">Added</div>\r\n      <i id=\"wishlistbutton\" class=\"fa fa-star fa-lg button-icon\"\r\n       title=\"Add to Wishlist\"></i>\r\n      </div>\r\n      \"\"\"\r\n    else ''\r\n\r\n  _buttonsHTML: ->\r\n    wikiLink = \"http://wiki.teamfortress.com/wiki/#{\r\n      encodeURIComponent @item.name}\"\r\n\r\n    \"\"\"\r\n    <div id=\"buttons\">\r\n\r\n    <a class=\"fa fa-info fa-lg button-icon\" target=\"_blank\"\r\n     title=\"Open in Wiki\" href=\"#{wikiLink}\"></a>\r\n\r\n    <a id=\"market-btn\" class=\"fa fa-shopping-cart fa-lg button-icon\"\r\n     target=\"_blank\" title=\"Community Market\"></a>\r\n\r\n    <a id=\"classifieds-btn\" class=\"fa fa-exchange fa-lg button-icon\"\r\n     target=\"_blank\" title=\"Find Trades\"></a>\r\n\r\n    #{@_tradeHTML()}\r\n    #{@_wishlistHTML()}\r\n    </div>\r\n    \"\"\"\r\n\r\n  _buyHTML: ->\r\n    # Buy button and store price HTML\r\n    if @item.storePrice\r\n      \"\"\"\r\n      <div id=\"buy\">\r\n      <form style=\"display: inline-block\">$#{@item.storePrice}<br>\r\n      <input type=\"text\" value=\"1\" size=\"1\" id=\"quantity\"\r\n       class=\"textbox\" style=\"text-align: right\">\r\n      </form><a href=\"#\" target=\"_blank\" id=\"buybutton\"></a></div>\r\n      \"\"\"\r\n    else ''\r\n\r\n  _nameLink: ->\r\n    linkButton = document.getElementById 'shortlinkbutton'\r\n    link = document.getElementById 'shortlink'\r\n\r\n    linkButton.onclick = ->\r\n      if link.style.display is 'none'\r\n        link.style.display = 'inline'\r\n        linkButton.className = linkButton.className.replace 'down', 'up'\r\n        link.getElementsByTagName('input')[0].select()\r\n      else\r\n        link.style.display = 'none'\r\n        linkButton.className = linkButton.className.replace 'up', 'down'\r\n\r\n  _pricesLink: ->\r\n    button = document.getElementById 'pricesource'\r\n    prices = document.getElementById 'prices'\r\n\r\n    if @sources.length > 1\r\n      button.style.cursor = 'pointer'\r\n\r\n      button.onclick = =>\r\n        @_nextPriceSource()\r\n\r\n        button.innerHTML = capitalize @source\r\n        prices.innerHTML = @_priceSourceHTML()\r\n\r\n      button.onmouseover = ->\r\n        button.style.textShadow = '0 0 10px rgb(196, 241, 128)'\r\n\r\n      button.onmouseout = ->\r\n        button.style.textShadow = ''\r\n\r\n  _buttonsLink: ->\r\n    (@form.quality.onchange = =>\r\n      market = document.getElementById 'market-btn'\r\n      quality = @form.quality.options[@form.quality.selectedIndex]\r\n        .text.toLowerCase()\r\n        .replace 'unique', 'Unique'\r\n        .replace 'genuine', 'rarity1'\r\n        .replace 'unusual', 'rarity4'\r\n        .replace \"collector's\", 'collectors'\r\n\r\n      market.href = \"http://steamcommunity.com/market/search?\\\r\n        category_440_Type%5B%5D=any&\\\r\n        category_440_Quality%5B%5D=tag_#{quality}&\\\r\n        appid=440&q=#{encodeURIComponent @item.name}\"\r\n\r\n      classifieds = document.getElementById 'classifieds-btn'\r\n      classifieds.href = \"http://backpack.tf/classifieds?item=#{\r\n        encodeURIComponent @item.name}&quality=#{@form.quality.value}\")()\r\n\r\n  _wishlistLink: ->\r\n    # Update wishlist item index\r\n    if user.isOwnPage()\r\n      for wish, idx in document.getElementsByClassName 'item'\r\n        if wish.getAttribute('data-i') is @item.wishIndex\r\n          @item.wishIndex = idx.toString()\r\n          break\r\n\r\n    if user.loggedIn\r\n      action = '/wishlist/add'\r\n      button = document.getElementById 'wishlistbutton'\r\n\r\n      if user.isOwnPage()\r\n        action = '/wishlist/remove'\r\n        button.title = 'Remove from Wishlist'\r\n\r\n      # Add to wishlist or remove from wishlist\r\n      button.onclick = =>\r\n        data = 'index': @item.id, 'quality': @form.quality.value\r\n\r\n        if user.isOwnPage()\r\n          data = 'i': @item.wishIndex\r\n\r\n        postAjax action, data, (response) =>\r\n          if response is 'Added'\r\n            message = document.getElementById 'wishlistmessage'\r\n            message.style.display = 'block'\r\n            message.className = 'animated fadeInLeft'\r\n            setTimeout (->\r\n              message.className = 'animated fadeOut'), 1000\r\n\r\n          else if response is 'Removed'\r\n            @hide()\r\n            @item.remove()\r\n\r\n  _buyLink: ->\r\n    button = document.getElementById 'buybutton'\r\n    if button\r\n      quantity = document.getElementById 'quantity'\r\n      (quantity.onchange = =>\r\n        button.href = \"http://store.steampowered.com/buyitem/440/#{\r\n          @item.id}/#{quantity.value}\")()\r\n\r\n  _generate: ->\r\n    # Itembox HTML\r\n    @elem.innerHTML =\r\n      \"\"\"\r\n      #{@_tagsHTML()}#{@_nameHTML()}#{@_classesHTML()}\r\n      #{@_bundleHTML()}\r\n      #{@_pricesHTML()}\r\n      #{@_blueprintsHTML()}\r\n      #{@_buttonsHTML()}#{@_buyHTML()}\r\n      \"\"\"\r\n\r\n    @form = document.tradeform\r\n\r\n    @_nameLink()\r\n    @_pricesLink()\r\n    @_buttonsLink()\r\n    @_wishlistLink()\r\n    @_buyLink()\r\n\r\n    # Hover area\r\n    hoverArea = @item.elem.cloneNode true\r\n    hoverArea.id = 'hoverarea'\r\n    hoverArea.className = ''\r\n\r\n    if @item.imageUrl\r\n      hoverArea.setAttribute 'style',\r\n                             \"background-image: url(#{@item.imageUrl})\"\r\n\r\n    # Add hover area to itembox\r\n    @elem.insertBefore hoverArea,\r\n      document.getElementById('blueprints') or\r\n      document.getElementById('buttons')\r\n\r\n    # Enable hover box\r\n    new HoverBox(hoverArea)\r\n\r\n    # Wishlist item quality\r\n    if @item.qualityNo\r\n      @form.quality.value = @item.qualityNo\r\n    # Auto quality selection\r\n    else if @item.prices[@source]\r\n      for option, i in @form.quality.options\r\n        if option.innerHTML of @item.prices[@source]\r\n          @form.quality.selectedIndex = i\r\n          @form.quality.onchange()\r\n          break\r\n\r\nclass HoverBox\r\n  constructor: (area, @itemBox) ->\r\n    # Allow providing only itemBox\r\n    # Area then becomes all 'item' elements\r\n    if area instanceof ItemBox\r\n      @itemBox = area\r\n      area = null\r\n\r\n    @elem = document.getElementById 'hoverbox'\r\n\r\n    unless @elem\r\n      @elem = document.createElement 'div'\r\n      @elem.id = 'hoverbox'\r\n      document.body.appendChild @elem\r\n\r\n    @_add(area)\r\n\r\n  _add: (area) ->\r\n    list = if area then [area] else document.getElementsByClassName 'item'\r\n\r\n    for item in list\r\n      item.addEventListener 'mouseout', @_hide, false\r\n      item.addEventListener 'mousemove', @_moveMouse, false\r\n      item.addEventListener 'mouseover', @_show, false\r\n      if @itemBox\r\n        item.addEventListener 'click', @_clickItem, false\r\n\r\n    if @itemBox\r\n      # iOS doesn't support 'click' on document\r\n      for event in ['click', 'touchend']\r\n        document.addEventListener event, @_hideItemBox, false\r\n      document.onkeydown = (e) => @itemBox.hide() if e.keyCode is 27\r\n\r\n  _show: (e) =>\r\n    item = new Item(e.target)\r\n    description = escapeHTML item.description\r\n\r\n    if description\r\n      if 'bundle' in item.tags and description.indexOf('---') isnt -1\r\n        descList = description.split '---'\r\n        description =\r\n          \"\"\"\r\n          #{descList[0]}\r\n          <span style=\"color: #95af0c\">#{descList[1]}</span>\r\n          \"\"\"\r\n      description = \"<br>#{description}\"\r\n\r\n    @elem.innerHTML =\r\n      \"\"\"\r\n      <div style=\"color: rgb(230, 230, 230)\">#{\r\n      item.name}</div><span style=\"color: gray\">#{item.level}</span>#{\r\n      item.attributes}#{description}\r\n      \"\"\"\r\n\r\n    @elem.style.display = 'block'\r\n\r\n  _hide: =>\r\n    @elem.style.display = 'none'\r\n\r\n  _hideItemBox: (e) =>\r\n    el = e.target\r\n    if el.className isnt 'item'\r\n      els = []\r\n      while el\r\n        els.push el\r\n        el = el.parentNode\r\n\r\n      @itemBox.hide() if @itemBox.elem not in els\r\n\r\n  _moveMouse: (e) =>\r\n    @elem.style.top = \"#{e.pageY + 28}px\"\r\n    @elem.style.left = \"#{e.pageX - 154}px\"\r\n\r\n  _clickItem: (e) =>\r\n    @itemBox.show e.target\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\ncapitalize = (word) ->\r\n  word[0].toUpperCase() + word[1...]\r\n\r\nescapeHTML = (string) ->\r\n  string.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;')\r\n\r\ngetCookie = (name) ->\r\n  cookies = document.cookie.split ';'\r\n\r\n  for cookie in cookies\r\n    cookie = cookie[1...] while cookie[0] is ' '\r\n    return cookie[name.length + 1...] if cookie[...name.length] is name\r\n\r\nsetCookie = (name, value, days) ->\r\n  expires = ''\r\n\r\n  if days\r\n    date = new Date\r\n    date.setDate(date.getDate() + days)\r\n    expires = \";expires=#{date.toUTCString()}\"\r\n\r\n  document.cookie = \"#{name}=#{value}#{expires}\"\r\n\r\najax = (url, callback) ->\r\n  request = _getAjaxRequest(callback)\r\n  request.open 'GET', url, true\r\n  request.setRequestHeader 'X-Requested-With', 'XMLHttpRequest'\r\n  request.send()\r\n\r\npostAjax = (url, data, callback) ->\r\n  request = _getAjaxRequest(callback)\r\n  request.open 'POST', url, true\r\n  request.setRequestHeader 'Content-Type',\r\n                           'application/x-www-form-urlencoded'\r\n\r\n  request.send (\"#{name}=#{value}\" for name, value of data).join('&')\r\n\r\n_getAjaxRequest = (callback) ->\r\n  request = new XMLHttpRequest\r\n\r\n  request.onreadystatechange = ->\r\n    if request.readyState is 4 and request.status is 200\r\n      callback request.responseText\r\n\r\n  return request\r\n\r\nroot.user = new User\r\n\r\nroot.ItemBox = ItemBox\r\nroot.HoverBox = HoverBox\r\n"
  ],
  "sourceRoot": ""
}